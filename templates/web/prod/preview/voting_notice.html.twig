<h4>{{ 'preview:: voting list' }}</h4>
<br>
{% if app.getAclForUser(app.getAuthenticatedUser()).has_right(constant('\\ACL::CANMODIFRECORD')) %}
    {% for basket_element in feedbackElementDatas %}
        <dl style="margin:0px;">
            <dt>{{ basket_element.getBasket().getName() }}</dt>
            {% for choice in basket_element.getValidationDatas() %}
                {% if choice.getParticipant().getCanAgree() %}
                    <dd style="margin-bottom: 5px;position:relative;">
                        <span style="position:relative;background: #3b3b3b;z-index:1;padding-right:10px">{{ choice.getParticipant().getUser().getDisplayName() }}</span>
                        <span style="position: absolute;width:calc(100% - 60px);border-bottom:1px solid #484848;height: 43%;right:30px;left:30px;top:0;"></span>
                        {% if choice.getAgreement() == true %}
                            <img style="cursor:help;float:right;" src='/assets/common/images/icons/green-check.png' title="{{ "L'utilisateur approuve ce document" | trans }}" />
                        {% elseif choice.getAgreement() is null %}
                            <img style="cursor:help;float:right;" src='/assets/common/images/icons/no-response.png' title="{{ "L'utilisateur n'a pas encore donne son avis sur ce document" | trans }}" />
                        {% else %}
                            <img style="cursor:help;float:right;" src='/assets/common/images/icons/red-cross.png' title="{{ "L'utilisateur desapprouve ce document" | trans }}" />
                        {% endif %}
                    </dd>
                {% endif %}
            {% endfor %}
        </dl>
    {% endfor %}
{% endif %}
